@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/StartUpLayOut.cshtml";
}

@using Microsoft.AspNet.Identity
@model Home.Models.Transaction

<link href="~/Content/bootstrap.css" rel="stylesheet" />
<link href="~/Content/font-awesome.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/metro-bootstrap.css" />
<link href="~/css/iconFont.min.css" rel="stylesheet" />
<link href="~/Content/myStyle.css" rel="stylesheet" />
<link href="~/Content/themes/base/core.css" rel="stylesheet" />
<link href="~/Content/themes/base/datepicker.css" rel="stylesheet" />
<link href="~/Content/themes/base/theme.css" rel="stylesheet" />
<link href="~/Content/animate.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-2.1.3.min.js"></script>
<script src="~/Scripts/jquery-ui-1.11.4.min.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Scripts/moment.js"></script>
<script src="~/Scripts/bootstrap-datepicker.js"></script>
<link href="~/Content/bootstrap-datepicker.css" rel="stylesheet" />
<script src="~/Scripts/modernizr-2.6.2.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<div class="container">
    <div class="text-center">
        <h3>Tracking/Reports</h3>
    </div>
    <hr />
    @using (Html.BeginForm("Reports", "Tracking", new { id = "ShowLast" }, FormMethod.Post))
    {
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-primary active" style="width:100px;">
                            <input type="radio" name="cash" value="INCOME" checked /> Income
                        </label>
                        <label class="btn btn-primary" style="width:100px;">
                            <input type="radio" value="EXPENDITURE" name="cash" /> Expenditure
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="input-group form-group">
                    <label class="input-group-addon">Show last</label>
                    <input class="form-control" placeholder="example:10" name="Last" style="width:100px;" type="text" required />
                    <span class="input-group-addonn">
                        @*<a class="btn btn-primary" href="#">Go</a>*@
                        <input type="submit" class="btn btn-primary" value="Go!" />
                    </span>
                </div>
            </div>
        </div>
    }
    <hr />
    <h3 class="text-center">OR</h3>
    <hr />
    @using (Html.BeginForm("Reports", "Tracking", new { id = "FromDate" }, FormMethod.Post))
    {
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-primary active" style="width:100px;">
                            <input type="radio" name="cash" value="INCOME" checked /> Income
                        </label>
                        <label class="btn btn-primary" style="width:100px;">
                            <input type="radio" value="EXPENDITURE" name="cash" /> Expenditure
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group input-group">
                    <label class="input-group-addon">From</label>
                    <input type="text" id="Date" style="width:200px;" class="form-control" required name="startDate" placeholder="From Date" />
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group input-group">
                    <label class="input-group-addon">To</label>
                    <input type="text" id="Date2" class="form-control" required style="width:200px;" name="endDate" placeholder="To Date" />
                    <span class="input-group-addonn">
                        <input type="submit" class="btn btn-primary" value="Go!" />
                    </span>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function () {
                $("#Date").datepicker({
                    dateFormat: 'mm/dd/yy',
                }).val();
                $("#Date2").datepicker({
                    dateFormat: 'mm/dd/yy',
                }).val();
            });
        </script>
    }
    <hr />
    <h3 class="text-center">OR</h3>
    <hr />
    @using (Html.BeginForm("Reports", "Tracking", new { id = "Range" }, FormMethod.Post))
    {
        <h5 class="text-center">Amount Range</h5>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-primary active" style="width:100px;">
                            <input type="radio" name="cash" value="INCOME" checked /> Income
                        </label>
                        <label class="btn btn-primary" style="width:100px;">
                            <input type="radio" value="EXPENDITURE" name="cash" /> Expenditure
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group input-group">
                    <label class="input-group-addon">From</label>
                    <input type="text" id="From" style="width:200px;" class="form-control" required name="start" placeholder="From" />
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group input-group">
                    <label class="input-group-addon">To</label>
                    <input type="text" id="To" class="form-control" required style="width:200px;" name="end" placeholder="To" />
                    <span class="input-group-addonn">
                        <input type="submit" class="btn btn-primary" value="Go!" />
                    </span>
                </div>
            </div>
        </div>
    }
    <hr />
    <h3 class="text-center">OR</h3>
    <hr />
    @using (Html.BeginForm("Reports", "Tracking", new { id = "Cat" }, FormMethod.Post))
    {
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <div class="btn-group" data-toggle="buttons">
                        <label class="btn btn-primary active" style="width:100px;" onclick="radioButton(document.getElementById('t_type').value)">
                            <input type="radio" name="cash" id="t_type" value="INCOME" checked /> Income
                        </label>
                        <label class="btn btn-primary" style="width:100px;" onclick="radioButton(document.getElementById('t_type1').value)">
                            <input type="radio" id="t_type1" value="EXPENDITURE" name="cash" /> Expenditure
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group input-group">
                    <div class="input-group-addon input-group-sm" style="width:120px;"><i>Category</i></div>
                    @Html.DropDownList("CategoryId", null, htmlAttributes: new { @class = "form-control", style = "width:180px;" })
                    <span class="input-group-addonn">
                        <input type="submit" class="btn btn-primary" value="Go!" />
                    </span>
                </div>
            </div>
        </div>
    }
</div>
<script src="~/Scripts/jquery-2.1.3.js"></script>
<script>
    $(document).ready(function () {
        radioButton("INCOME");
    });
</script>
<script>
    function radioButton(radioBut) {
        $.ajax({
            type: "GET",
            url: '/Categories/GetHome/' + radioBut,
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            processData: true,
            success: function (data, status, xhr) {
                var ddl = $('#CategoryId');
                ddl.empty();
                $.each(data, function (id, option) {
                    ddl.append($('<option></option>').val(option.CategoryId).html(option.CategoryName));
                });
            },
            error: function (xhr) {
                alert(xhr.responseText);
            }
        })
    };
</script>
